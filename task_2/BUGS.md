# Баг-репорты для API микросервиса объявлений

## Информация
**Сервис:** https://qa-internship.avito.com  
**Base URL:** https://qa-internship.avito.com/api/1  

---

## Баг #1: Поле statistics является обязательным при создании объявления
**Приоритет:** Medium  
**Статус:** Открыт  
**Окружение:** QA  
**Тест-кейс:** TC-008

**Описание:**  
При создании объявления без поля `statistics` API возвращает ошибку 400, хотя согласно документации поле должно быть опциональным и создаваться с дефолтными значениями.

**Шаги воспроизведения:**
1. Отправить POST запрос на `/api/1/item` без поля `statistics`
2. Проверить ответ сервера

**Ожидаемый результат:**  
- HTTP статус: 200 OK
- Объявление создано с дефолтными значениями статистики

**Фактический результат:**  
- HTTP статус: 400 Bad Request
- Объявление не создается

**Дополнительная информация:**
- **Эндпоинт:** `/api/1/item`
- **HTTP метод:** POST
- **Тело запроса:**
  ```json
  {
    "sellerID": 123456,
    "name": "Test",
    "price": 1000
  }
  ```
- **HTTP статус:** 400

---

## Баг #2: Задержка в появлении созданных объявлений в системе
**Приоритет:** High  
**Статус:** Открыт  
**Окружение:** QA  
**Тест-кейсы:** TC-010, TC-014, TC-019, TC-022, TC-023, TC-024

**Описание:**  
После успешного создания объявления (получен статус 200) объявление не сразу доступно для получения через GET запросы. Требуется задержка в несколько секунд, что указывает на проблемы с консистентностью данных или асинхронной обработкой.

**Шаги воспроизведения:**
1. Создать объявление через POST `/api/1/item`
2. Немедленно попытаться получить объявление через GET `/api/1/:sellerID/item`
3. Проверить наличие созданного объявления

**Ожидаемый результат:**  
- Объявление должно быть доступно сразу после создания
- GET запрос должен возвращать созданное объявление без задержек

**Фактический результат:**  
- Объявление не возвращается сразу после создания
- Требуется задержка 2-4 секунды для появления объявления в системе
- При немедленном запросе возвращается пустой массив

**Дополнительная информация:**
- **Эндпоинты:** 
  - POST `/api/1/item`
  - GET `/api/1/:sellerID/item`
  - GET `/api/1/item/:id`
  - GET `/api/1/statistic/:id`
- **Затронутые тест-кейсы:** TC-010, TC-014, TC-019, TC-022, TC-023, TC-024

---

## Баг #3: Отсутствие валидации sellerID в GET запросах
**Приоритет:** Medium  
**Статус:** Открыт  
**Окружение:** QA  
**Тест-кейсы:** TC-016, TC-017

**Описание:**  
При запросе объявлений продавца с невалидным `sellerID` (вне диапазона 111111-999999) API возвращает статус 200 вместо 400, что указывает на отсутствие валидации входных параметров для GET запросов.

**Шаги воспроизведения:**
1. Отправить GET запрос на `/api/1/100000/item` (sellerID меньше 111111)
2. Отправить GET запрос на `/api/1/1000000/item` (sellerID больше 999999)
3. Проверить статус ответа

**Ожидаемый результат:**  
- HTTP статус: 400 Bad Request
- В ответе присутствует сообщение об ошибке валидации

**Фактический результат:**  
- HTTP статус: 200 OK
- Валидация не выполняется для GET запросов
- Возвращается пустой массив или данные без проверки корректности sellerID

**Дополнительная информация:**
- **Эндпоинт:** `/api/1/:sellerID/item`
- **HTTP метод:** GET
- **HTTP статус:** 200 (ожидался 400)
- **Несоответствие:** Валидация sellerID работает для POST запросов, но не для GET

---

## Итоговая статистика багов

- **Всего багов:** 3
- **High приоритет:** 1
- **Medium приоритет:** 2
- **Low приоритет:** 0



